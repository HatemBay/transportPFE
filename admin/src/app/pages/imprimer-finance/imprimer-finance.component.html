<div *ngIf="type == 'new'" id="printable">
  <div class="row justify-content-center">
    <div class="col-lg-5" style="width: 50%">
      <img src="https://assets.jouri-express.com/img/logo2-01.png"
        style="width: 200px; float: left; margin-right: 25px">
      <h5>Jouri Express</h5>
      <h5>MF : 1737963/W</h5>
      <h5>TEL : 26 539 959</h5>
      <h5>ADRESSE : El jem</h5>
    </div>
    <div class="col-lg-5 text-center" style="width: 50%">
      <h3 style="color: black; font-weight: bold;">Etat détaillé N°: {{financeNb}} - {{date | date:'yyyy/MM/dd'}}
      </h3>
      <h6>Fournisseur : {{fournisseur.nom}} </h6>
      <h6>Tél : {{fournisseur.tel}}</h6>
      <h6>MF : 1579 HNM 000</h6>
    </div>
    <div class="col-lg-4" style="width: 50%">
      <div class="card-body">
        <div class="alert alert-light border"> Livré : {{paye.length}}</div>
        <div class="alert alert-light border"> Retour : {{retourne.length}}</div>
      </div>
    </div>
    <div class="col-lg-4" style="width: 50%">
      <div class="card-body">
        <div class="alert alert-light border"> Frais de livraion <small>(par colis)</small>: {{frais.fraisLivraison |
          number: '1.3-3'}}</div>
        <div class="alert alert-light border"> Frais de retour <small>(par colis)</small>: {{frais.fraisRetour | number:
          '1.3-3'}}</div>
      </div>
    </div>
    <div class="col-lg-8">
      <div class="card-body text-center">
        <div class="alert alert-light border h3"> Total COD : {{frais.totalCOD | number: '1.3-3'}}</div>
        <div class="alert alert-light border h3"> Total de livraison : {{frais.totalFraisLivraison | number: '1.3-3'}}
        </div>
        <div class="alert alert-light border h3"> Total hors frais de livraison : {{frais.totalHorsFrais | number:
          '1.3-3'}}</div>
      </div>
    </div>
    <div class="col-lg-12 table-responsive p-3 " style="background: transparent;">
      <h2>Livré</h2>
      <div>
        <table class="table align-items-center table-bordered" id="exemple">
          <thead class="thead-light">
            <tr>
              <th>Code à barre</th>
              <th>Client</th>
              <th>Téléphone</th>
              <th>Adresse</th>
              <th>Etat</th>
              <th class="text-center">COD</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let package of paye">
              <input type="hidden" name="code_barre[]" value="10203041">
              <tr>
                <td>{{package.CAB}}</td>
                <td>{{package.nomc | titlecase}}</td>
                <td>{{package.telc}}</td>
                <td>{{package.villef | titlecase}}, {{package.delegationf | titlecase}}</td>
                <td>{{package.etat | titlecase}}</td>
                <td class="text-center">{{package.c_remboursement | number: '1.3-3'}}</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
      <h2 class="mt-5">Retourné</h2>
      <table class="table align-items-center table-bordered" id="exemple">
        <thead class="thead-light">
          <tr>
            <th>Code à barre</th>
            <th>Client</th>
            <th>Téléphone</th>
            <th>Adresse</th>
            <th>Etat</th>
            <th class="text-center">COD</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let package of retourne">
            <input type="hidden" name="code_barre[]" value="10203041">
            <tr>
              <td>{{package.CAB}}</td>
              <td>{{package.nomc | titlecase}}</td>
              <td>{{package.telc}}</td>
              <td>{{package.villef | titlecase}}, {{package.delegationf | titlecase}}</td>
              <td>{{package.etat | titlecase}}</td>
              <td class="text-center">{{package.c_remboursement | number: '1.3-3'}}</td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div *ngIf="type == 'historique'" class="row justify-content-center">
  <div class="col-lg-5" style="width: 50%">
    <img src="https://assets.jouri-express.com/img/logo2-01.png" style="width: 200px; float: left; margin-right: 25px">
    <h5>Jouri Express</h5>
    <h5>MF : 1737963/W</h5>
    <h5>TEL : 26 539 959</h5>
    <h5>ADRESSE : El jem</h5>
  </div>
  <div class="col-lg-5 text-center" style="width: 50%">
    <h3 style="color: black; font-weight: bold;">Etat détaillé N°: {{financeNb}} - {{finance.createdAtSearch}}</h3>
    <h6>Fournisseur : {{fournisseur.nom}} </h6>
    <h6>Tél : {{fournisseur.tel}}</h6>
    <h6>MF : 1579 HNM 000</h6>
  </div>
  <div class="col-lg-8">
    <div class="card-body text-center">
      <div class="alert alert-light border h3"> Total COD : {{finance.totalCOD | number: '1.3-3'}}</div>
      <div class="alert alert-light border h3"> Total de livraison : {{finance.totalFraisLivraison | number: '1.3-3'}}
      </div>
      <div class="alert alert-light border h3"> Total hors frais de livraison : {{finance.totalHorsFrais | number:
        '1.3-3'}}</div>
      <div class="alert alert-light border h3"> Nbre colis: {{finance.nbPackages}}</div>
      <div>
        <h6><b><u>NB: CECI N'EST PAS UNE FACTURE</u></b></h6>
      </div>
    </div>
  </div>
  <div *ngFor="let el of packages">
    <div class="row m-2">
      <div class="width_60">
        <div class="well p-2" style="height: 180px;">
          <!-- <img src="../../../assets/img/logo_1.png" style="height: 100%; float: left; margin-right: 25px"> -->
          <h5>Colis Express</h5>
          <h5>MF : 1737963/W</h5>
          <h5>TEL : 26 539 959</h5>
          <h5>ADRESSE : El jem</h5>
        </div>
      </div>
      <div class="width_40">
        <div class="well p-2 text-center" style="height: 180px;">
          <strong>
            <h4 style=" font-weight: 900"><b><i>Bon de Livraison N°</i></b></h4>
          </strong>
          <ngx-barcode [bc-value]="el.CAB" [bc-display-value]="true" [bc-height]="90" [bc-width]="3"
            [bc-background]="'#ffffff'"></ngx-barcode>
        </div>
      </div>
      <div class="width_40">
        <div class="well heigth_100 m-auto">
          <strong>
            <h4 style="border-bottom: 2px solid; padding: 2px 5px; font-weight: 900;">Expéditeur</h4>
          </strong>
          <h5 style="padding: 5px;">Nom: {{el.nomf}} </h5>
          <h5 style="padding: 5px;">Téléphone: {{el.telf}} </h5>
          <h5 style="padding: 5px;">Adresse: {{el.delegationf}} , {{el.villef}}
          </h5>
          <h5 style="padding: 5px;">MF: </h5>
        </div>
      </div>
      <div class="width_60">
        <div class="well heigth_100 m-auto">
          <strong>
            <h4 style="border-bottom: 2px solid; padding: 2px 5px; font-weight: 900">Destinataire</h4>
          </strong>
          <h5 style="padding: 5px">Nom: {{el.nomc}} </h5>
          <h5 style="padding: 5px">Tél: {{el.telc}} </h5>
          <h5 style="padding: 5px">Adresse: {{el.adressec}} </h5>
          <h5 style="padding: 5px">Ville:
            {{el.delegationc}} , {{el.villec}}
          </h5>
        </div>
      </div>
      <div class="width_100">
        <div>
          <table style="width: 100%; ">
            <thead class="text-center">
              <tr>
                <th style="width: 20%">Etat</th>
                <th style="width: 40%">Désignation</th>
              </tr>
            </thead>
            <tbody>
              <tr class="text-center">
                <td style="width: 20%">{{el.etat}} </td>
                <td style="width: 40%">{{el.service}} </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <hr>
  </div>

</div>
